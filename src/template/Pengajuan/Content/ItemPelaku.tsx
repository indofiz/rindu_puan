import { Pelaku } from '../../../recoil/pengajuan'
import { calculateFullAge } from '../../../utils/calculateBirthday'

interface ListOrang {
  item: Pelaku
  index: number
  onRemove: (index: number) => void
  onEdit: (index: number) => void
}
const ItemPelaku: React.FC<ListOrang> = ({ item, index, onRemove, onEdit }) => {
  const icon_genre = (
    <svg xmlns='http://www.w3.org/2000/svg' width={16} height={16} fill='none'>
      <path
        fill='#F9517A'
        d='M4 4a1.333 1.333 0 1 0 0-2.667A1.333 1.333 0 0 0 4 4ZM6 4.667H2a.667.667 0 0 0-.667.666V10h1.334v4.667h2.666V10h1.334V5.333A.667.667 0 0 0 6 4.667ZM11.333 4a1.333 1.333 0 1 0 0-2.667 1.333 1.333 0 0 0 0 2.667ZM13.473 5.153a.667.667 0 0 0-.666-.486h-3a.667.667 0 0 0-.667.486L8 9.333h1.333L8.667 12H10v2.667h2.667V12H14l-.667-2.667h1.334l-1.194-4.18Z'
      />
    </svg>
  )

  const icon_edit = (
    <svg xmlns='http://www.w3.org/2000/svg' width={16} height={16} fill='none'>
      <path
        fill='#fff'
        d='m12.867 5.95-2.834-2.8.934-.933a1.28 1.28 0 0 1 .942-.384c.372 0 .686.128.941.384l.933.933c.256.256.39.564.4.925.011.362-.11.67-.366.925l-.95.95Zm-.967.983L4.833 14H2v-2.833L9.067 4.1 11.9 6.933Z'
      />
    </svg>
  )
  const icon_kakek = (
    <svg xmlns='http://www.w3.org/2000/svg' width={16} height={16} fill='none'>
      <path
        fill='#F9517A'
        fillRule='evenodd'
        d='M7.573 1.75c-1.762 0-3.273.91-4.147 2.263a1.25 1.25 0 0 0-1.402 1.483h-.003l.436 1.797a2 2 0 0 0 .475 3.625l.101 1.32.001.007c.172 1.899 1.627 3.255 3.491 3.255H9.52c1.809 0 3.319-1.351 3.491-3.255l.001-.011.089-1.325a2 2 0 0 0 .443-3.616l.436-1.798h-.003a1.251 1.251 0 0 0-1.374-1.487A4.954 4.954 0 0 0 8.421 1.75h-.848ZM4.5 5.25a1.25 1.25 0 0 1-.865 1.19 4.067 4.067 0 0 0-.003.526l.04.531a.5.5 0 0 1-.39.527 1 1 0 0 0 .151 1.974.5.5 0 0 1 .467.46l.13 1.7c.129 1.399 1.168 2.342 2.495 2.342h2.994c1.283 0 2.366-.947 2.495-2.34l.114-1.699a.5.5 0 0 1 .457-.465 1 1 0 0 0 .132-1.973.5.5 0 0 1-.39-.521l.036-.535v-.005c.014-.176.015-.35.007-.521a1.25 1.25 0 0 1-.632-1.925A3.946 3.946 0 0 0 8.421 2.75h-.848a3.921 3.921 0 0 0-3.296 1.788c.14.202.223.447.223.712Zm.3 1.628-.319-.382a.498.498 0 0 0 .633.768l.003-.003.004-.003c.088-.06.182-.11.28-.148a1.64 1.64 0 0 1 .871-.09.498.498 0 0 0 .155-.983 2.641 2.641 0 0 0-1.392.147 2.408 2.408 0 0 0-.535.296l-.011.01-.005.003-.001.002h-.001l.318.383Zm6.668-.383-.315.38.316-.379a.498.498 0 0 1-.633.768l-.004-.003-.004-.003a1.418 1.418 0 0 0-.28-.148 1.64 1.64 0 0 0-.87-.09.498.498 0 0 1-.156-.983c.47-.077.95-.026 1.392.147a2.426 2.426 0 0 1 .536.296l.011.01.005.003.001.002h.001ZM7.643 8.764l-.495 1.585a.503.503 0 0 0 .485.651h.733a.504.504 0 0 0 .485-.652l-.495-1.585c-.106-.35-.601-.35-.713 0ZM8 11.948a2.801 2.801 0 0 1-1.292-.306c-.127-.066-.265.079-.184.194A1.765 1.765 0 0 0 8 12.625a1.766 1.766 0 0 0 1.476-.789c.08-.12-.057-.26-.185-.194-.4.204-.842.309-1.291.306ZM5.771 7.7c-.607 0-1.12.42-1.264.984A.256.256 0 0 0 4.76 9h.4a.832.832 0 1 1 1.604 0h.074a.214.214 0 0 0 .212-.252A1.304 1.304 0 0 0 5.771 7.7Zm.192.606a.473.473 0 0 1 .42.694h-.839a.469.469 0 0 1 .01-.458.147.147 0 0 0 .271-.082.15.15 0 0 0-.052-.115.474.474 0 0 1 .19-.04Zm5.53.378a1.309 1.309 0 0 0-2.091-.69 1.3 1.3 0 0 0-.452.754.214.214 0 0 0 .212.252h.074a.801.801 0 0 1-.029-.222.825.825 0 0 1 .83-.832A.832.832 0 0 1 10.84 9h.4a.256.256 0 0 0 .252-.316ZM9.86 8.338a.473.473 0 0 1 .591.662h-.839a.47.47 0 0 1 .025-.484.148.148 0 0 0 .137.094.15.15 0 0 0 .086-.272ZM6.5 4.25A.25.25 0 0 1 6.75 4h2.5a.25.25 0 0 1 0 .5h-2.5a.25.25 0 0 1-.25-.25Zm3.999.98.001.014v.006a.25.25 0 0 1-.25.25h-4.5a.25.25 0 0 1 0-.5h4.5a.25.25 0 0 1 .249.23Zm-1.14 4.084a.25.25 0 0 1 .353.019c.098.11.189.185.307.237.12.053.287.09.547.09a.25.25 0 1 1 0 .5c-.306 0-.547-.043-.749-.133a1.37 1.37 0 0 1-.477-.36.25.25 0 0 1 .019-.353Zm-2.647.005a.25.25 0 0 0-.353.008l-.008.008-.041.036a1.281 1.281 0 0 1-.81.289.25.25 0 0 0 0 .5c.45 0 .883-.172 1.212-.479l.005-.005.002-.002.001-.001h.001a.25.25 0 0 0-.009-.354Z'
        clipRule='evenodd'
      />
    </svg>
  )

  const icon_nenek = (
    <svg xmlns='http://www.w3.org/2000/svg' width={16} height={16} fill='none'>
      <g fill='#F9517A' clipPath='url(#a)'>
        <path d='m7.644 8.764-.495 1.585a.502.502 0 0 0 .485.651h.733a.504.504 0 0 0 .485-.652l-.495-1.585c-.107-.35-.602-.35-.713 0Zm-.935 2.628c.373.194.818.306 1.291.306.478 0 .918-.112 1.292-.306.128-.066.265.074.184.194A1.765 1.765 0 0 1 8 12.375a1.766 1.766 0 0 1-1.476-.789c-.08-.116.057-.26.185-.194ZM5.5 7.7c.042 0 .084.003.125.008a1.303 1.303 0 0 1 1.425 1.04.214.214 0 0 1-.212.252h-.074a.828.828 0 0 0-1.17-.968.832.832 0 0 0-.435.968h-.4a.256.256 0 0 1-.251-.316v-.002l-.045-.032c-.2-.15-.25-.4.05-.6.3-.25.637-.35.987-.35Zm5.1 0c-.057 0-.115.005-.172.015A1.3 1.3 0 0 0 8.95 8.748.214.214 0 0 0 9.163 9h.074a.801.801 0 0 1-.03-.222.825.825 0 0 1 .83-.832A.832.832 0 0 1 10.84 9h.4a.256.256 0 0 0 .259-.254l.137-.096c.2-.15.25-.4-.05-.6-.3-.25-.637-.35-.987-.35Z' />
        <path d='M5.963 8.306a.473.473 0 0 1 .42.694h-.839a.469.469 0 0 1 .01-.458.148.148 0 0 0 .271-.082.15.15 0 0 0-.052-.115.473.473 0 0 1 .19-.04Zm3.674.21A.47.47 0 0 0 9.612 9h.839a.474.474 0 0 0-.591-.663.15.15 0 0 1-.085.273.148.148 0 0 1-.138-.094ZM4.828 7.214l.004-.002.021-.011c.13-.068.265-.124.405-.169.27-.087.627-.152.998-.086a.25.25 0 0 0 .087-.492 2.6 2.6 0 0 0-1.237.102 3.048 3.048 0 0 0-.521.222l-.009.005-.003.002h-.001a.25.25 0 1 0 .256.43Zm4.532 2.1a.25.25 0 0 1 .353.019c.097.11.188.185.306.237.12.053.287.09.547.09a.25.25 0 0 1 0 .5c-.306 0-.547-.043-.749-.133a1.37 1.37 0 0 1-.477-.36.25.25 0 0 1 .02-.353Zm-3.001.014a.25.25 0 1 1 .362.344l-.002.002-.002.002-.005.005-.008.008-.011.01a1.782 1.782 0 0 1-1.193.46.25.25 0 1 1 0-.499c.314 0 .617-.116.851-.325l.008-.008Z' />
        <path d='M4.6 2.664c.829-.407 1.871-.638 3.171-.662.347-.006.694.003 1.04.026 1.047.075 1.901.3 2.593.656.324.166.625.37.897.611.935.83 1.35 1.961 1.538 3.131.056.345.056.695 0 1.039a2 2 0 0 1-.804 3.412 4.998 4.998 0 0 1-5.041 4.001 5 5 0 0 1-5.044-4.005 2 2 0 0 1-.925-3.039 3.124 3.124 0 0 1-.048-1.418c.228-1.177.694-2.302 1.664-3.127.292-.247.615-.457.959-.625Zm8.39 5.414a.999.999 0 0 0-.33-.115l-.436-.071.024-.607c-.036-.67-.401-.743-.558-.743h-.839l.044.013c.17.055.333.123.49.206l.018.01.013.007.009.005.002.001.001.001a.25.25 0 0 1-.256.43l-.004-.003a2.557 2.557 0 0 0-.425-.18 2.114 2.114 0 0 0-1-.086.25.25 0 0 1-.236-.404H8.69a4.1 4.1 0 0 1-3.116-1.426c-.274.53-.72.953-1.264 1.2l-.025.011-.027.009-.044.018a.96.96 0 0 0-.464.884l.008.27v.023l.016.4-.386.104a1 1 0 0 0-.422.235l-.026.026a1 1 0 0 0 .537 1.689l.36.064.05.362a4.009 4.009 0 0 0 4.107 3.465 4.005 4.005 0 0 0 4.11-3.494l.006-.046.046-.36.41-.029a1 1 0 0 0 .455-1.85l-.031-.019Z' />
        <path d='M4.828 2.018a3.5 3.5 0 0 1 6.35.013C10.306 1.678 9.253 1.5 8 1.5c-1.242 0-2.294.175-3.172.518Z' />
      </g>
      <defs>
        <clipPath id='a'>
          <path fill='#fff' d='M0 0h16v16H0z' />
        </clipPath>
      </defs>
    </svg>
  )

  const icon_delete = (
    <svg xmlns='http://www.w3.org/2000/svg' width={16} height={16} fill='none'>
      <path
        fill='#fff'
        d='M4.667 14c-.367 0-.68-.13-.942-.392a1.281 1.281 0 0 1-.392-.941V4a.646.646 0 0 1-.475-.192.643.643 0 0 1-.191-.475c0-.189.064-.347.192-.475a.642.642 0 0 1 .474-.191H6c0-.19.064-.348.192-.476A.643.643 0 0 1 6.667 2h2.666c.19 0 .348.064.476.192a.643.643 0 0 1 .191.475h2.667c.189 0 .347.064.475.192a.642.642 0 0 1 .191.474.646.646 0 0 1-.192.476.642.642 0 0 1-.474.191v8.667c0 .366-.13.68-.392.942a1.282 1.282 0 0 1-.942.391H4.667ZM6 10.667c0 .189.064.347.192.475a.642.642 0 0 0 .475.191.646.646 0 0 0 .475-.192.642.642 0 0 0 .191-.474V6a.646.646 0 0 0-.192-.475.642.642 0 0 0-.474-.192.646.646 0 0 0-.476.192.643.643 0 0 0-.19.475v4.667Zm2.667 0c0 .189.064.347.192.475a.642.642 0 0 0 .474.191.646.646 0 0 0 .476-.192.643.643 0 0 0 .191-.474V6a.646.646 0 0 0-.192-.475.642.642 0 0 0-.475-.192.646.646 0 0 0-.475.192.643.643 0 0 0-.191.475v4.667Z'
      />
    </svg>
  )

  const umur = calculateFullAge(item.tanggal_lahir)
  const umurRender =
    umur.years !== 0
      ? `${umur.years} Tahun`
      : umur.months !== 0
      ? `${umur.months} Bulan`
      : `${umur.days} Hari`

  return (
    <div className='relative bg-white border overflow-hidden border-gray-200 px-6 py-3 rounded-lg w-full'>
      <h3 className='text-lg font-medium'>{item.nama_lengkap}</h3>
      <div className='flex gap-4 mt-1'>
        <div className='flex items-center gap-1'>
          <span>{icon_genre}</span>
          <span className='text-sm capitalize'>
            {item.jenis_kelamin == 'L' ? 'Laki - Laki' : 'Perempuan'}
          </span>
        </div>
        <div className='flex items-center gap-1'>
          <span>{item.jenis_kelamin === 'L' ? icon_kakek : icon_nenek}</span>
          <span className='text-sm'>{umurRender}</span>
        </div>
      </div>
      <div className='absolute right-0 bottom-0 bg-secondary rounded-tl-md overflow-hidden'>
        <button
          onClick={() => onEdit(index)}
          className='bg-secondary py-3 px-3 rounded-tl-md focus:bg-black/25'
        >
          {icon_edit}
        </button>
        <button
          onClick={() => onRemove(index)}
          className='bg-primary py-3 px-3 rounded-tl-md focus:bg-black/25'
        >
          {icon_delete}
        </button>
      </div>
    </div>
  )
}

export default ItemPelaku
